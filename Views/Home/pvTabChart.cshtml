@model IEnumerable<iFMIS_BMS.BusinessLayer.Models.ChartModel>


<script>
    function fn_refresher(e) {
        var SelectedTabIndex = $("#tabstrip").data("kendoTabStrip").select().index();

        if (SelectedTabIndex == 0) {
            $("#chStatistic").data("kendoChart").dataSource.read();
        }
        if (SelectedTabIndex == 1) {
            $("#BarChart").data("kendoChart").dataSource.read();
        }
    }

    </script>
<div class="demo-section k-content">
    @(Html.Kendo().TabStrip()
          .Name("tabstrip")
          .Animation(animation =>
              animation.Open(effect =>
              effect.Fade(FadeDirection.In)))
          .Items(tabstrip =>
          {
              tabstrip.Add().Text("Pie Chart").Selected(true).Content(@<text>

    <div style="margin: 5px;">
        @(Html.Kendo().Chart(Model)
            .Name("chStatistic")
            .Legend(legend => legend
                          .Position(ChartLegendPosition.Bottom).Labels(x => x.Font(font: "bold 12px Arial,Helvetica,sans-serif").Template("#=dataItem.name_type#")))
                    .Title((string)ViewBag.oppis)
                    .Series(s =>

            {
                s.Pie(

                        model => model.percentages_,    
                        model => model.name_type_mount

                    )

                    .StartAngle(150);

            })
            .Tooltip(t => t.Template("${ category } -  ${ value }%").Visible(true))
            .SeriesColors("#1FA67A", "#42EF14","#B6B90D")

        )
    </div>
         </text>);
              tabstrip.Add().Text("Bar Chart").Content(@<text>
 

    <div class="demo-section k-content wide">
          @(Html.Kendo().Chart(Model)
                .Name("BarChart")
                .Title((string)ViewBag.accountName)
                .Legend(legend => legend
                    .Position(ChartLegendPosition.Top)
                )
                         
                        .Series(series =>
                        {
                            series
                         .Column(s => s.mounts)
                         .Stack(true)
                        
                         .Name("Amount")
                         .Tooltip(t => t.Template("${ category } -  ${ value }").Visible(true));
                         
                           
                         //   series
                         //.Column(s => s.amountLatest)
                         //.Stack(true)
                         //.Color("#e5e5e5")
                         //.Name("Excess")

                         //.Tooltip(t => t.Template("Excess & Deficiency - ${ value }%").Visible(true))
                         //;

                        })
                .CategoryAxis(axis => axis
                    .Categories("PS","mooe","CO")
                        
                    //.AxisCrossingValue(0, 0, 10, 10)
                )
                       .ValueAxis(axis => axis
                    .Numeric().Labels(labels => labels.Format("₱ {0:N0}"))
                    .Line(line => line.Visible(false))
                    .AxisCrossingValue(-10)
                )
                .Tooltip(tooltip => tooltip
                    .Visible(true)
                    .Format("₱ {0:N0}"))
                            .SeriesColors("#1FA67A", "#42EF14", "#B6B90D")
                )

                            
                            </div>
                             </text>);
                  })


    )
</div>








