@model iFMIS_BMS.BusinessLayer.Models.ForFundingModel


<script>
    function ReqCloseDateWindowVacant() {
        document.documentElement.style.overflow = 'auto';  // firefox, chrome
        document.body.scroll = "yes";
        $("#ChangeDateWindowVacant").data("kendoWindow").close();
    }
    function reqUpdateDateVacant() {
        if ($('#buttonSpinner').css("display") == 'none') {
            $("#btnsaveVacant").attr('disabled','disabled');
            $('#buttonSpinner').css("display", "auto");
            var isCasual = '@Session["isCasual"]';
            var DateValue = $("#dpAppointmentDateVacant").val();
            var SeriesID = @Model.ProposedItemID;
            var OfficeID = $("#offs").val();
            var url2 = "@Url.Action("UpdateProposedDateVacant", "Home")";
            $.post(url2 ,{DateValue:DateValue,SeriesID:SeriesID,OfficeID:OfficeID,isCasual:isCasual}, function (d) {
                if (d == 1) {
                    swal({
                        title: "Success!",
                        text: "Succesffuly Updated.",
                        type: "success",
                        timer: 2000,
                        showConfirmButton: false
                    });
                    $("#btnsaveVacant").removeAttr('disabled');
                    document.documentElement.style.overflow = 'auto';  // firefox, chrome
                    document.body.scroll = "yes";
                    $("#ChangeDateWindowVacant").data("kendoWindow").close();
                    $("#grd_BudgetApprovalBudget").data("kendoGrid").dataSource.read();
                    $("#grdComputationDetailSalary").data("kendoGrid").dataSource.read();
                    ChangeTotalAmounts();
                }
                else {
                    swal({
                        title: "Error!",
                        text: d,
                        type: "error",
                        timer: 2000,
                        showConfirmButton: false
                    });
                    $('#buttonSpinner').css("display", "none");
                    $("#btnsaveVacant").removeAttr('disabled');
                }
            })
        }
    }
</script>
<label style="display:inline-block">
    Salary Effectivity Date :<br />
    @(Html.Kendo().DatePicker()
              .Name("dpAppointmentDateVacant")
              .Start(CalendarView.Month)
              .Depth(CalendarView.Month)
              .Value(Model.SalaryEffectivityDate)
              .Min(new DateTime(DateTime.Now.Year + 1, 1, 1))
              .Max(new DateTime(DateTime.Now.Year + 1, 12, 1))
              .HtmlAttributes(new { style = "width: 242px; height: 100%" })
    )
</label>
<div style="display:inline-block; float: right">
    <div id="btnsaveVacant" class="k-button k-button-icontext" style="margin-bottom:5px;display:inline-block;width: 80px;clear:both; margin-top:5px;" onclick="reqUpdateDateVacant()">Update <i id="buttonSpinner" style="display:none" class="fa fa-spinner fa-spin"></i></div>
    <div id="btnCloseNewCasualSettingsVacant" class="k-button k-button-icontext" style="margin-bottom:5px;display:inline-block;width: 80px;clear:both; margin-top:5px;" onclick="ReqCloseDateWindowVacant()">Close</div>
</div>

