
<script> var thisculture = kendo.culture();
    thisculture.numberFormat.currency.symbol = '₱'; // Script For Changing The Currency Sign

    function delete_float_EE(release_float_id) {


        var url = "@Url.Action("Delete_Flaot", "Release")";


        swal({
            title: "Are you sure?",
            text: "This item will be removed!",
            type: "info",
            showCancelButton: true,
            closeOnConfirm: false,
            confirmButtonColor: "#DD6B55",
            confirmButtonText: "Yes, Remove It!",
            showLoaderOnConfirm: true,
        }, function () {


            $.get(url, { release_float_id: release_float_id }, function (d) {
                get_Balance();
                $("#grd_Float_EE").data("kendoGrid").dataSource.read();
                if (e == "1") {
                    swal({
                        title: "Success!",
                        text: "Float has been Removed.",
                        timer: 2000,
                        type: "success",
                        showConfirmButton: false
                    })
                    $('#EconomicEnterprise_Grid').data('kendoGrid').dataSource.read();
                } else {
                    swal({
                        title: "Error!",
                        text: "System Error! Please try again.",
                        timer: 2000,
                        type: "error",
                        showConfirmButton: false
                    })
                }
            });
        });
    }

    function fn_LoadFlaot_EE() {
        var office_id = $("#float_offs_EE").val();
        var program_id = $("#float_Progss_EE").val();
        var ooe_id = $("#float_ooe_id_EE").val();
        var account_id = $("#float_account_list_EE").val();
        var month_ = $("#float_Months_EE").val();
        var numeric_ = $("#float_numeric_EE").val();
        var year_ = $("#float_ddlYear_EE").val();

        return {
            office_id: office_id,
            program_id: program_id,
            ooe_id: ooe_id,
            account_id: account_id,
            month_: month_,
            numeric_: numeric_,
            year_: year_
        }
    }


    function ReadData_EE() {
        return {
            office_id: '@Session["office_id"]',
            program_id: '@Session["program_id"]',
            ooe_id: '@Session["ooe_id"]',
            account_id: '@Session["account_id"]',
            month_: '@Session["month_"] ',
            numeric_: '@Session["numeric_"]',
            year_: '@Session["year_"] '
        }
    }
    setTimeout(function () {

        okkk_EE();


    }, 1000);

    function okkk_EE(e) {
        $("#float_Progss_EE").data("kendoDropDownList").dataSource.read();
    }
    function CheckAll_EE(e) {
        $("#grd_Float_EE tbody input:checkbox").prop("checked", e.checked);
    }


    function refreshinggg_EE() {
        setTimeout(function () {

            $("#float_offs_EE").data("kendoComboBox").dataSource.read();
            $("#float_Progss_EE").data("kendoDropDownList").dataSource.read();
            $("#float_ooe_id_EE").data("kendoDropDownList").dataSource.read();
            $("#float_account_list_EE").data("kendoComboBox").dataSource.read();
            $("#float_Months_EE").data("kendoDropDownList").dataSource.read();

        }, 500);
    }

    function edit_float_EE(release_float_id) {
        var ooe_id = $("#float_ooe_id_EE").val();

        var url = "@Url.Action("Edit_Flaot", "Release")";

        $.get(url, { release_float_id: release_float_id, ooe_id: ooe_id }, function (d) {

            $("#float_id_EE").val(d.release_float_id);


            if (d.ooe_ids == 1) {
                $("#float_PSs").val(d.Amount_release);
            } else if (d.ooe_ids == 2) {
                $("#float_MOOEs").val(d.Amount_release);
            } else if (d.ooe_ids == 3) {
                $("#float_COs").val(d.Amount_release);
            } else {
                alert('error')
            }

        })

    }
    function fn_checkbox_EE(value) {
        if (value == 1) {
            return "<input type='checkbox' class='checkbox' checked/>";
        }
        else {
            return "<input type='checkbox' class='checkbox'/>";
        }

    }
</script>






@(Html.Kendo().Grid<iFMIS_BMS.BusinessLayer.Models.Release_Float_Model>()
    .Name("grd_Float_EE")
    .Scrollable()
    .Columns(col =>
    {
        col.Bound(m => m.Float_Flag)

            .ClientTemplate("#=fn_checkbox_EE(Float_Flag)#")
                        .Title("<input onclick=CheckAll_EE(this) type='checkbox'   class='checkbox'/>")
                        .Width(30)
                        .HtmlAttributes(new { @onclick = "click", style = "align:center;float:none;text-align:center; font-size:12px; vertical-align: middle;" })
                        .HeaderHtmlAttributes(new { style = "text-align:center; vertical-align: middle; overflow: visible; white-space: normal" });

        col.Bound(m => m.amount_description).Title("Account").Width(210);
        col.Bound(m => m.Amount_release)
                        .HtmlAttributes(new { style = "text-align:left;height:30px" })
                        .HeaderTemplate(@<text><div style="font-weight:600;text-align:center; vertical-align: middle; overflow: visible; white-space: normal;">Amount</div></text>)
                        .Width(100)
                        .HeaderHtmlAttributes(new { style = "text-align:center; vertical-align: middle; overflow: visible; white-space: normal" })
                        .ClientTemplate("<div>#=kendo.toString(Amount_release,'c2')# </div>");

        col.Bound(m => m.MonthOf).Title("Month").Width(80);
        col.Bound(m => m.YearOf).Title("Year").Width(60);
        col.Bound(m => m.balance_amount)
                        .HtmlAttributes(new { style = "text-align:left;height:30px" })
                        .HeaderTemplate(@<text><div style="font-weight:600;text-align:center; vertical-align: middle; overflow: visible; white-space: normal;">Balance<br />Amount</div></text>)
                        .Width(100)
                        .HeaderHtmlAttributes(new { style = "text-align:center; vertical-align: middle; overflow: visible; white-space: normal" })
                        .ClientTemplate("<div>#=kendo.toString(balance_amount,'c2')# </div>");

        col.Bound(m => m.batch).Title("Batch").Width(60);


        col.Template(t => { }).ClientTemplate(
                                     "<div class='btn-delete'style='inline-block; height: 15px;width:65px;margin-left:5px;'> " +
                                    "<a  title='Submit' onclick='edit_float_EE(#=release_float_id#)' style='margin-left:2px;'><span class='fa fa-search-plus' style='font-size: 12pt;'></span></a>" +

                                    " </div>" +
                                      "<div class='btn-delete'style='inline-block; height: 15px;width:65px;margin-left:30px;'> " +
                                      "<a  title='remove'     onclick='delete_float_EE(#=release_float_id#)'               style='margin-left:2px;'><span class='fa fa-remove' style='font-size: 12pt;'></span></a>" +
                                      " </div>"
                                    ).HtmlAttributes(new { style = "vertical-align: top;" }).Width(70);
    })

        .Sortable()
        .Scrollable()
        .HtmlAttributes(new { style = "height:250px;" })
                        .DataSource(d => d
                        .Ajax()
                        .PageSize(1000)
                        .Model(m => m.Id(i => i.release_float_id))
                        .Read(read => read.Action("Load_Float_List", "Release").Data("fn_LoadFlaot_EE")))
)








