<script>
    var thisculture = kendo.culture();
    thisculture.numberFormat.currency.symbol = '';
    function getParam() {
        var mode=0;
        return {
            office: $("#office_supplemental").val() == "" ? 0 : $("#office_supplemental").val(),
            year: $("#tyear").val(),
            mode: $("#supplementalproid").val() == 1 ? 1 : 2
        }
    }
    
    function fn_offce() {
        $("#sb3_grid").data("kendoGrid").dataSource.read()
    }

    function OnTabstripActivate() {
        var SelectedTabIndex = $("#tabstripsb3").data("kendoTabStrip").select().index();
      
        var OfficeID = $("#office_supplemental").val() == "" ? 0 : OfficeID;
        //if (OfficeID != '') {
            if (SelectedTabIndex == 0) {
                $("#sb3_grid").data("kendoGrid").dataSource.read();
            }
            else if (SelectedTabIndex == 1) {
                $("#sb3dgsign_grid").data("kendoGrid").dataSource.read();
            }
        
    }

    function supplementalpro_click() {
        if (document.getElementById("supplementalproid").checked) {
            document.getElementById("supplementalproid").value = "1"
            document.getElementById("supplementalapproveid").value = "0"
            $("#supplementalapproveid").attr("checked", false);
        }
        $("#sb3_grid").data("kendoGrid").dataSource.read()
    }

    function supplementalapprove_click() {
        if (document.getElementById("supplementalapproveid").checked) {
            document.getElementById("supplementalapproveid").value = "1"
            document.getElementById("supplementalproid").value = "0"
            $("#supplementalproid").attr("checked", false);
        }
        $("#sb3_grid").data("kendoGrid").dataSource.read()
    }
</script>
<h2 style="margin-bottom:20px;">
    <span class="fa fa-money"></span> Supplemental Budget No. 3 (SB3)
</h2>
<div style="display:inline-block;margin: 0px 0 20px 250px;margin">
    <input type="radio" value="1" id="supplementalproid" style="width:15px;zoom:1.2" checked onclick="supplementalpro_click()" />
    <label style="display:inline-block">Proposed</label>
    <input type="radio" value="0" id="supplementalapproveid" style="width:15px;zoom:1.2;margin-left:20px;" onclick="supplementalapprove_click()" />
    <label style="display:inline-block">Approved</label>
</div>
<br />
<div style="float: left;margin-left:-20px;margin-top:23px;">
    <label style="float:left;margin-left: 50px;font-size:14px;">
        Transaction Year    :
    </label>
</div>
<div style="float: right;margin-right:500px;margin-top:16px;">

    @(Html.Kendo().ComboBox()
            .Name("tyear")
            .DataTextField("ProposalYear")
            .DataValueField("ProposalYear")
            .Placeholder("Select year...")
            .Filter("contains")
            .MinLength(1)
            .HtmlAttributes(new { @style = "width: 100px;" })
            .SelectedIndex(0)
            .DataSource(source => source.Read(read => read.Action("GetPropYear3", "PYear")))//.Data("fn_class_GFEE")))

    )

</div>

<div style="float: left;margin-left:-96px;margin-top:62px;">
    <label style="float:left;margin-left: 50px;font-size:14px;">
        Office    :
    </label>
</div>
<div style="float: right;margin-right:100px;margin-top:9px;margin-bottom:25px;">

    @(Html.Kendo().ComboBox()
            .Name("office_supplemental")
            .DataTextField("OfficeName")
            .DataValueField("OfficeID")
            .Placeholder("Select office...")
            .Filter("contains")
            .MinLength(1)
            .HtmlAttributes(new { @style = "width: 500px;" })
            .Events(e => e.Change("fn_offce"))
            .SelectedIndex(-1)
            .DataSource(source => source.Read(read => read.Action("GetOfficeSupplement", "Release")))//.Data("fn_class_GFEE")))

    )
</div>
<div class="demo-section k-content" style="display:inline-block;width:100%;height:550px; margin: 10px 0 20px 0px;">
    @(Html.Kendo().TabStrip()
          .Name("tabstripsb3")
          .Navigatable(false)
          .Animation(animation =>
            animation.Open(effect =>
            effect.Fade(FadeDirection.In)))
          .Events(e => e.Activate("OnTabstripActivate"))
          .Items(tabstrip =>
          {
              tabstrip.Add().Text("Details").Selected(true).LoadContentFrom("pv_supplementalb3", "Release");//.Enabled(false);
              tabstrip.Add().Text("DGSign Status").LoadContentFrom("pv_supplementalb3_report", "Release");

          })
    )
</div>

<script>
    $(document).ready(function () {
        OnTabstripActivate();
        //$("#sb3_grid").data("kendoGrid").dataSource.read()
    })

  
</script>